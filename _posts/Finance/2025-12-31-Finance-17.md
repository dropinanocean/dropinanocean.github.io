---
layout: post
title: "VBAL Holdings Tracker"
categories: finance
published: true
---

<div style="margin-bottom: 15px; font-weight: bold;">
  **Goal ({{ site.data.vbal.goal_year }}):** {{ site.data.vbal.goal }} VBAL shares
</div>

<div id="vbal-counter" style="font-size: 3rem; font-weight: bold; margin-bottom: 15px;">
  Loadingâ€¦
</div>

<div style="max-width: 500px; margin-bottom: 15px;">
  <div style="background: #eee; border-radius: 8px; overflow: hidden; position: relative; height: 30px;">
    <div id="vbal-progress"
         style="background: #4caf50; height: 100%; width: 0%; transition: width 0.8s; display: flex; align-items: center; justify-content: flex-end; padding-right: 8px; color: white; font-weight: bold;">
      <!-- progress label -->
    </div>
    <div style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); color: #666; font-size: 0.9rem;">
      Goal: {{ site.data.vbal.goal }}
    </div>
  </div>
  <div id="vbal-percent" style="margin-top: 8px; font-weight: 600;">
    Loadingâ€¦
  </div>
</div>

### ðŸ“‚ Account Breakdown
<ul>
  {% for account in site.data.vbal.accounts %}
    <li>
      <strong>{{ account[1].name }}:</strong>
      {{ account[1].shares }} shares
    </li>
  {% endfor %}
</ul>

<script>
  const goalShares = {{ site.data.vbal.goal }};
  const goalYear = "{{ site.data.vbal.goal_year }}";
  const accounts = {{ site.data.vbal.accounts | jsonify }};

  let totalVBALShares = 0;
  for (const key in accounts) {
    totalVBALShares += accounts[key].shares;
  }

  const percent = Math.min((totalVBALShares / goalShares) * 100, 100);

  const numberFormat = {
    minimumFractionDigits: 0,
    maximumFractionDigits: 5
  };

  // Counter
  document.getElementById("vbal-counter").innerText =
    totalVBALShares.toLocaleString(undefined, numberFormat) + " shares";

  // Progress bar
  const progressEl = document.getElementById("vbal-progress");
  progressEl.style.width = percent.toFixed(2) + "%";
  //progressEl.innerText = totalVBALShares.toLocaleString(undefined, numberFormat);

  // Percent text
  document.getElementById("vbal-percent").innerText =
    percent.toFixed(2) + "% of " + goalYear + " goal achieved (" +
    (goalShares - totalVBALShares).toLocaleString(undefined, numberFormat) +
    " shares remaining)";
</script>
